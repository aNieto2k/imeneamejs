var Handlebars={};(function(c,e){c.VERSION="1.0.0";c.COMPILER_REVISION=4;c.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};
c.helpers={};c.partials={};var d=Object.prototype.toString,f="[object Function]",b="[object Object]";c.registerHelper=function(l,m,k){if(d.call(l)===b){if(k||m){throw new c.Exception("Arg not supported with multiple helpers");
}c.Utils.extend(this.helpers,l);}else{if(k){m.not=k;}this.helpers[l]=m;}};c.registerPartial=function(k,l){if(d.call(k)===b){c.Utils.extend(this.partials,k);
}else{this.partials[k]=l;}};c.registerHelper("helperMissing",function(k){if(arguments.length===2){return e;}else{throw new Error("Missing helper: '"+k+"'");
}});c.registerHelper("blockHelperMissing",function(m,l){var k=l.inverse||function(){},o=l.fn;var n=d.call(m);if(n===f){m=m.call(this);}if(m===true){return o(this);
}else{if(m===false||m==null){return k(this);}else{if(n==="[object Array]"){if(m.length>0){return c.helpers.each(m,l);}else{return k(this);}}else{return o(m);
}}}});c.K=function(){};c.createFrame=Object.create||function(k){c.K.prototype=k;var l=new c.K();c.K.prototype=null;return l;};c.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(m,k){if(c.logger.level<=m){var l=c.logger.methodMap[m];
if(typeof console!=="undefined"&&console[l]){console[l].call(console,k);}}}};c.log=function(l,k){c.logger.log(l,k);};c.registerHelper("each",function(k,t){var r=t.fn,m=t.inverse;
var o=0,p="",n;var q=d.call(k);if(q===f){k=k.call(this);}if(t.data){n=c.createFrame(t.data);}if(k&&typeof k==="object"){if(k instanceof Array){for(var l=k.length;
o<l;o++){if(n){n.index=o;}p=p+r(k[o],{data:n});}}else{for(var s in k){if(k.hasOwnProperty(s)){if(n){n.key=s;}p=p+r(k[s],{data:n});o++;}}}}if(o===0){p=m(this);
}return p;});c.registerHelper("if",function(l,k){var m=d.call(l);if(m===f){l=l.call(this);}if(!l||c.Utils.isEmpty(l)){return k.inverse(this);}else{return k.fn(this);
}});c.registerHelper("unless",function(l,k){return c.helpers["if"].call(this,l,{fn:k.inverse,inverse:k.fn});});c.registerHelper("with",function(l,k){var m=d.call(l);
if(m===f){l=l.call(this);}if(!c.Utils.isEmpty(l)){return k.fn(l);}});c.registerHelper("log",function(l,k){var m=k.data&&k.data.level!=null?parseInt(k.data.level,10):1;
c.log(m,l);});var i=["description","fileName","lineNumber","message","name","number","stack"];c.Exception=function(m){var l=Error.prototype.constructor.apply(this,arguments);
for(var k=0;k<i.length;k++){this[i[k]]=l[i[k]];}};c.Exception.prototype=new Error();c.SafeString=function(k){this.string=k;};c.SafeString.prototype.toString=function(){return this.string.toString();
};var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var a=/[&<>"'`]/g;var g=/[&<>"'`]/;var j=function(k){return h[k]||"&amp;";
};c.Utils={extend:function(m,l){for(var k in l){if(l.hasOwnProperty(k)){m[k]=l[k];}}},escapeExpression:function(k){if(k instanceof c.SafeString){return k.toString();
}else{if(k==null||k===false){return"";}}k=k.toString();if(!g.test(k)){return k;}return k.replace(a,j);},isEmpty:function(k){if(!k&&k!==0){return true;}else{if(d.call(k)==="[object Array]"&&k.length===0){return true;
}else{return false;}}}};c.VM={template:function(k){var l={escapeExpression:c.Utils.escapeExpression,invokePartial:c.VM.invokePartial,programs:[],program:function(n,o,p){var m=this.programs[n];
if(p){m=c.VM.program(n,o,p);}else{if(!m){m=this.programs[n]=c.VM.program(n,o);}}return m;},merge:function(o,n){var m=o||n;if(o&&n){m={};c.Utils.extend(m,n);
c.Utils.extend(m,o);}return m;},programWithDepth:c.VM.programWithDepth,noop:c.VM.noop,compilerInfo:null};return function(q,p){p=p||{};var n=k.call(l,c,q,p.helpers,p.partials,p.data);
var r=l.compilerInfo||[],o=r[0]||1,t=c.COMPILER_REVISION;if(o!==t){if(o<t){var m=c.REVISION_CHANGES[t],s=c.REVISION_CHANGES[o];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+m+") or downgrade your runtime to an older version ("+s+").";
}else{throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+r[1]+").";
}}return n;};},programWithDepth:function(m,n,o){var l=Array.prototype.slice.call(arguments,3);var k=function(q,p){p=p||{};return n.apply(this,[q,p.data||o].concat(l));
};k.program=m;k.depth=l.length;return k;},program:function(l,m,n){var k=function(p,o){o=o||{};return m(p,o.data||n);};k.program=l;k.depth=0;return k;},noop:function(){return"";
},invokePartial:function(k,m,o,p,n,q){var l={helpers:p,partials:n,data:q};if(k===e){throw new c.Exception("The partial "+m+" could not be found");}else{if(k instanceof Function){return k(o,l);
}else{if(!c.compile){throw new c.Exception("The partial "+m+" could not be compiled when running in runtime-only mode");}else{n[m]=c.compile(k,{data:q!==e});
return n[m](o,l);}}}}};c.template=c.VM.template;})(Handlebars);(function(){var b=Handlebars.template,a=Handlebars.templates=Handlebars.templates||{};a.article=b(function(g,m,f,l,k){this.compilerInfo=[4,">= 1.0.0"];
f=this.merge(f,g.helpers);k=k||{};var i="",c,h="function",j=this.escapeExpression,n=this;function e(s,r){var o="",q,p;o+='\n                <article id="';
if(q=f["meneame:link_id"]){q=q.call(s,{hash:{},data:r});}else{q=s["meneame:link_id"];q=typeof q===h?q.apply(s):q;}o+=j(q)+'" ';p=f["if"].call(s,((q=r),q==null||q===false?q:q.index),{hash:{},inverse:n.noop,fn:n.program(2,d,r),data:r});
if(p||p===0){o+=p;}o+='>\n                    <header>\n                        <a href="#';if(p=f["meneame:link_id"]){p=p.call(s,{hash:{},data:r});}else{p=s["meneame:link_id"];
p=typeof p===h?p.apply(s):p;}o+=j(p)+'" class="noticia" title="';if(p=f.title){p=p.call(s,{hash:{},data:r});}else{p=s.title;p=typeof p===h?p.apply(s):p;
}o+=j(p)+'">\n                        <small>\n                            ';if(p=f["meneame:votes"]){p=p.call(s,{hash:{},data:r});}else{p=s["meneame:votes"];
p=typeof p===h?p.apply(s):p;}o+=j(p)+" votos, ";if(p=f["meneame:comments"]){p=p.call(s,{hash:{},data:r});}else{p=s["meneame:comments"];p=typeof p===h?p.apply(s):p;
}o+=j(p)+" comentarios\n                        </small>\n                        ";if(p=f.title){p=p.call(s,{hash:{},data:r});}else{p=s.title;p=typeof p===h?p.apply(s):p;
}o+=j(p)+"\n                        </a>\n                    </header>\n                    <section>\n                            ";if(p=f.description){p=p.call(s,{hash:{},data:r});
}else{p=s.description;p=typeof p===h?p.apply(s):p;}if(p||p===0){o+=p;}o+='\n                        <p class="info">\n                            <a class="original" href="';
if(p=f["meneame:url"]){p=p.call(s,{hash:{},data:r});}else{p=s["meneame:url"];p=typeof p===h?p.apply(s):p;}o+=j(p)+'">noticia original</a>\n                            <a href="#';
if(p=f["meneame:link_id"]){p=p.call(s,{hash:{},data:r});}else{p=s["meneame:link_id"];p=typeof p===h?p.apply(s):p;}o+=j(p)+'" class="comments" title="';
if(p=f.title){p=p.call(s,{hash:{},data:r});}else{p=s.title;p=typeof p===h?p.apply(s):p;}o+=j(p)+'">Ver Comentarios</a>\n                        </p>\n                    </section>\n                </article>               \n            ';
return o;}function d(p,o){return'class="oculta"';}i+='<section id="articles">\n            ';c=f.each.call(m,m.items,{hash:{},inverse:n.noop,fn:n.program(1,e,k),data:k});
if(c||c===0){i+=c;}i+="\n          </section>";return i;});a.comments=b(function(f,k,e,j,i){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);
i=i||{};var h="",c,g="function",l=this;function d(p,o){var m="",n;m+="\n                        <article>";if(n=e.description){n=n.call(p,{hash:{},data:o});
}else{n=p.description;n=typeof n===g?n.apply(p):n;}if(n||n===0){m+=n;}m+="</article>\n                    ";return m;}h+="  <header>Comentarios</header>\n                    ";
c=e.each.call(k,k.items,{hash:{},inverse:l.noop,fn:l.program(1,d,i),data:i});if(c||c===0){h+=c;}return h;});})();var urls={pendientes:"http://pipes.yahoo.com/pipes/pipe.run?_id=491e23812a1b3df3771169ad4c595f68&_render=json&feedcount=25&feedurl=http://www.meneame.net/rss2.php?status=queued",publicadas:"http://pipes.yahoo.com/pipes/pipe.run?_id=491e23812a1b3df3771169ad4c595f68&_render=json&feedcount=25&feedurl=http%3A%2F%2Fwww.meneame.net%2Frss2.php",comentarios:"http://pipes.yahoo.com/pipes/pipe.run?_id=491e23812a1b3df3771169ad4c595f68&_render=json&feedcount=100&feedurl=http://www.meneame.net/comments_rss2.php?id="};
var $sourceEl=$("#content");var template={page:Handlebars.templates.article,comments:Handlebars.templates.comments};var context;function loadRss(){var b;
var a="publicadas";if(location.href.indexOf("pendientes")>-1){a="pendientes";}if(/#\d+$/.test(location.href)){return;}$sourceEl.html("").addClass("loading");
if(a=="pendientes"){$("#seccion .publicadas").removeClass("active");$("#seccion .pendientes").addClass("active");}else{if(a=="publicadas"){$("#seccion .publicadas").addClass("active");
$("#seccion .pendientes").removeClass("active");}}$.getJSON(urls[a],function(e){context=e.value;for(var c in context.items){context.items[c].description=context.items[c].description.replace(/<\/p>.*$/,"</p>").replace(/<img.*\/>/,"");
}var d=template.page(context);$("#articles").empty();$sourceEl.html(d).removeClass("loading");$("article").bind("click",function(){var f=$(this);if(!f.hasClass("oculta")){return;
}$("article").addClass("oculta");f.removeClass("oculta");});$("p.info").on("click","a.comments",function(){var g=$(this);var h=this.href.replace(/^.*#/,"");
var f=$(this).parent().parent().append('<p class="comments loading"></p>');$(this).addClass("atras");$.getJSON(urls.comentarios+h,function(j){context=j.value;
var i=template.comments(context);f.find("p.comments").html(i).removeClass("loading");g.removeClass("comments");});}).on("click","a.atras",function(){$("p.comments").remove();
$(this).addClass("comments").removeClass("atras");});});}$(window).bind("hashchange",loadRss);location.hash="publicadas";